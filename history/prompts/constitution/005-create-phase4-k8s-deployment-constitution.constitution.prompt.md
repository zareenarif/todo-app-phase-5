---
id: 005
title: Create Phase 4 K8s Deployment Constitution
stage: constitution
date: 2026-02-09
surface: agent
model: claude-opus-4-6
feature: none
branch: main
user: DC
command: /sp.constitution
labels: ["constitution", "phase4", "kubernetes", "minikube", "helm", "docker", "devops"]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - .specify/memory/constitution.md
tests:
  - none
---

## Prompt

Write a CONSTITUTION for Phase IV: Local Kubernetes Deployment.

Purpose:
Deploy the Phase III Todo AI Chatbot on a local Kubernetes cluster using Minikube with Helm Charts, Docker AI (Gordon), kubectl-ai, and kagent.

Non-Negotiable Rules:
- No manual coding by humans
- All Dockerfiles, Helm charts, and Kubernetes manifests must be generated by AI
- Infrastructure must be reproducible and stateless
- Frontend and Backend must be containerized separately
- Helm must be the single source of truth for deployment
- Kubernetes resources must be observable and scalable
- AI DevOps tools (Gordon, kubectl-ai, kagent) must be used where possible

Required Tooling:
- Docker Desktop (with Docker AI Agent Gordon)
- Minikube
- Helm
- kubectl
- kubectl-ai
- kagent

Deployment Guarantees:
- Local cluster must run end-to-end
- Pods must reach Running state
- Services must be accessible via Minikube
- System must survive pod restarts

Output Format:
- Clear governance rules
- Explicit constraints
- Deterministic behavior expectations

## Response snapshot

Created Phase 4 constitution (v4.0.0) with 13 core principles. Preserved all Phase 3 application principles (I-X) and added three new infrastructure principles: XI (AI-Generated Infrastructure Only), XII (Helm as Single Source of Truth), XIII (Observable and Resilient Deployment). Defined complete technology stack including Docker Desktop, Minikube, Helm 3, kubectl-ai, kagent, and Docker AI Gordon. Specified container architecture with separate frontend/backend images, Helm chart structure, deployment architecture diagram, observability requirements, and resilience guarantees. Kubernetes orchestration moved from out-of-scope to primary scope (local only). All application logic preserved unchanged from Phase 3.

## Outcome

- Impact: Major constitution amendment (3.0.0 -> 4.0.0) establishing Phase 4 infrastructure governance
- Tests: None (constitution document)
- Files: .specify/memory/constitution.md
- Next prompts: /sp.specify for Phase 4 deployment specification, /sp.plan for implementation planning
- Reflection: Clean separation of infrastructure concerns from application logic preserved all Phase 3 principles while adding K8s-specific governance

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): N/A
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): N/A
